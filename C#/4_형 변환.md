# 형 변환

## 1. 묵시적 형변환

- 기본 자료형 간의 변환을 컴파일러가 '알아서'해줌
    - 모든 기본 자료형 간의 변환이 가능한 것은 아님
- 특별한 문법이 필요하지 않음
`int num1 = 100000;`
`long num2 = num1;`
    - int형인 num1을 long형 변수에 대입

### 정밀도 손실(Loss of Precision)

```
int num1 = 1234567890;
float num2 = num1;
// float 형에 들어있는 값을 int 형으로 바꿈
Console.WriteLine(num1 - (int)num2);


// 출력하면 -46이 나온다.
```

- 다음의 경우 자료의 값이 달라지는 경우가 발생할 수 있음
    - int/long에서 float으로 변환
    - long에서 double로 변환

### 승격(Promotion)

- 컴파일러가 자동으로 실수형이나 부동소수형 자료의 이진 표현을 확장
- 산술 연산자나 논리 연산자가 제대로 동작하게 하거나 ALU(산술논리장치)가 좀 더 효율적으로 돌 수 있게 하려고 사용

```
double num1 = 3.7;
int num2 = 10;

Console.WriteLine(num1 + num2);
// 13.7 출력
// (num1 + num2)가 double형으로 알아서 변환
```

### 작은 형에서 큰 형으로 변환

- 예) 32비트에서 64비트 형으로 변환
    - 문제없음

```
int num1 = 2147483644;
long num2 = num1;  //ok
```

### 큰 형에서 작은 형으로 변환

- 값이 충분히 작으면 문제가 없음
- 그러나 프로그래밍 언어마다 변환을 못하게 할 수 있음
- 값이 크면 당연히 문제가 있음
    - 런타임 중에 값이 어떻게 될지 모름
    - 우린 이런 상황을 '정보의 손실'이라고 함

## 2. 명시적 형변환

_묵시적변환으로 형변환이 안될 때 명시적 형변환을 사용_

```
double num1 = 10.9;
double num2 = 52.16;
Console.WriteLine("일반 덧셈 결과: " + (num1 + num2));
// 63.06 출력

int result = (int)num1 + (int)num2;
Console.WriteLine("명시적 형변환 덧셈 결과: " + result);
// 63출력(부동소수점형을 int형으로 명시적 변환을 하면 소수점 이하는 다 버림 )
```

- 소괄호 ()를 이용하여 변하고자 하는 자료형을 보여줌
- 모든 자료형들이 변환되는 것은 아님

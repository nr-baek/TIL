# 제어문

제어문(control flow statement)은 주어진 조건에 따라 코드 블록을 실행(조건문)하거나 반복 실행(반복문)할 때 사용한다.

## 블록문

블록문(block statement/compound statement)는 0개 이상의 문을 중괄호로 묶은 것으로, 코드 블록 또는 블록이라고 부르기도 한다.  
블록문의 끝에는 세미콜론을 붙이지 않는다.

```javascript
// 블록문
{
  var foo = 10;
}
```

## 조건문

주어진 조건식(conditional expression)의 평가 결과에 따라 코드 블록(블록문)의 실행을 결정한다. 
특정 상황에 따라 프로그램의 행동을 다르게 할 때 사용하며 앞서 살펴본 삼항연산자로 바꿔 표현할 수도 있다.
(ex_**만약** 방이 어두우**면**, 불을 켜기. **그렇지 않으면**, 책보기.)

### if/else문

```javascript
if (조건식) {
  // 조건식이 참이면 이 코드 블록이 실행된다.
} else {
  // 조건식이 거짓이면 이 코드 블록이 실행된다.
}
```

- 조건이 만족하면 if(조건식) 바로 다음의 블록을 실행한다.
- 조건이 만족하지 않으면 else 다음의 블록을 실행한다. 
- 조건식은 참이나 거짓을 반환하는 불리언 표현식이어야 한다.

```javascript
// if문 기본형

if(수학 성적이 90점 이상이면)
{
    //게임기 구매
} else {
    //보충학습
}
```

### if/else if문

```javascript
if(조건식 A)
{
    //조건식 A가 참일 때만 실행
}
else if(조건식 B)
{
    //조건식 A가 거짓이고 조건식 B가 참일 때만 실행
}
else
{
    //조건식 A와 B가 모두 거짓일때만 실행
}
```

조건식을 추가하여 조건에 따라 실행될 코드 블록을 늘리고 싶으면 else if 문을 사용한다.

#### if/else if문 조건식 만들 때 주의점

``` javascript
if (score >= 70)
{
    보충수업
}
else if(score >= 80)
{
    만화책 보기
}
else if(score >= 90)
{
    게임기 구매
}
// score가 90점인데 보충수업을 하는 결과가 나온다...

// 올바른 순서로 다시 작성하면

if (score >= 90)
{
    게임기 구매
}
else if(score >= 80)
{
    만화책 보기
}
else if(score >= 70)
{
    보충수업
}
```

- 조건문의 순서가 다르면 위 처럼 엉뚱한 결과가 나옴
- 조건문의 순서가 올바른지 확인할 것
- 논리적으로 말이 되는지 안 되는지 학인

if문 아래 들어갈 코드가 한줄이면 중괄호를 생략해도 문제 없이 실행된다.  
**그러나 언제나 if문을 쓸 때마다 예외 없이 중괄호를 꼭 사용하자!**
(범위를 명확하지 않으면 실수할 수 있기 때문)

### switch문

switch 문의 표현식을 평가하여 그 값과 일치하는 표현식을 갖는 case구문으로 실행 흐름을 옮긴다.  
switch 문의 표현식과 일치하는 case 문이 없다면 실행 순서는 default 문으로 이동한다.  

```javascript
switch(매치 표현식)
{
    case <표현식 1>:
        매치 표현식의 반환값이 표현식1과 일치할 때 실행하는 구문;
        break;
    case <표현식 2>:
        매치 표현식의 반환값이 표현식2과 일치할 때 실행하는 구문;
        break;
    case <표현식 n>:
        매치 표현식의 반환값이 표현식n과 일치할 때 실행하는 구문;
        break;
    default:
        매치 표현식의 반환값이 위의 case문의 표현식과 하나도 일치하지 않을 때 실행하는 구문;
        break;
}
```

switch문은 다양한 상황(case)에 따라 실행할 코드 블록을 결정할 때  if/else if문을 사용할 때보다 간결하고 가독성 좋게 작성할 수 있다.  
**case문마다 break문을 넣어서 다음 case까지 진행하지 않도록 해야한다.**  
break키워드는 코드 실행을 멈추고 switch문을 빠져나가라는 의미이다.  
break를 넣지 않고 의도적으로 여러 case문을 실행하도록 할 수도 있다.(fall through)  
하지만 이렇게 fall through를 한 경우에는 주석을 달아서 의도적으로 break문을 생략했으며 실수가 아님을 나타내는 것이 좋다.

## 반복문

반복문은 어떠한 조건식이 거짓일 때까지 반복하여 코드를 실행하는 문이다.

### for 문

for문은 조건식이 거짓으로 평가될 때까지 코드 블록을 반복 실행한다.

```javascript
for (변수 선언문 또는 할당문; 조건식; 증감식) {
  조건식이 참인 경우 반복 실행될 문;
}
```

for문에서는 루프에 들어가기 전에 변수를 초기화할 수 있으며 루프 후 코드도 지정할 수 있다.

```javascript
for (var i = 0; i < 10; i++) {
  console.log(i);
}
```

위의 코드는 변수 i를 0으로 초기화 하여 조건식인 `i < 10;`를 만족하는 동안 i를 1씩 올리며 출력하는 반복문이다.

1. `var i = 0`으로 변수 i 선언 및 초기화(초기화는 반복문이 시작할 때 딱 한 번만 실행한다)
2. i의 값이 `i < 10`조건식에 만족하는지 확인
3. 코드블럭의 `console.log(i)`실행 (0 출력)
4. `i++`실행으로 i의 값이 1 증가
5. 2~4번 순서가 `i < 10`조건식에 만족하는동안 반복

```javascript
for ( ; ; ) {
  doSomething(); // 무한루프
}
```

for 문의 변수 선언문, 조건식, 증감식은 모두 옵션이다. 위와 같이 모든 옵션을 생략하면 무한 루프가 생성된다.  

### while문

while문 또한 특정한 조건을 만족하는 동안 코드를 반복해서 실행하는 문이다.  

```javascript
while(조건식)
{
    조건을 만족할 동안 반복할 코드
}
```

`조건식 참/거짓 확인 -> 블록문 실행 -> 조건식 참/거짓 확인 -> 블록문 실행 ...`과 같이 진행된다.  
조건식의 평가 결과가 언제나 참이면 무한루프가 되기 때문에 if문으로 탈출 조건을 만들고 break문으로 반복문을 탈출한다.  

```javascript
while (true)
{
    반복할 실행구문;

    if(조건)
    {
        break;
    }
}
```

while문 조건에 true를 넣고 if문 안에 break를 넣어 if문의 조건이 만족하면 while문을 빠져나오도록 하는것이다.(while문의 조건식에 직접 조건을 넣는 것 보다 if문과 break를 사용하는 것이 가독성도 더 좋다)

### do-while문

do-while문은 조건을 평가 하기 전 반복문의 코드 블럭을 실행한다.  
즉, 코드블럭은 최소 한 번은 반드시 실행된다.

```javascript
do {
  // 최소 한 번은 반드시 실행되는 코드
  // 한 번 실행 후에는 조건식이 참일 때만 실행
} while (조건식);
```

위 코드의 do 구문의 중괄호 코드 블럭을 반드시 한 번은 실행하며 이후에는 조건식을 평가한 후 결과가 참일 때만 실행한다.  

#### for문 vs while문

##### for문이 더 좋을 때

- 반복문이 시작하는 시점에 범위가 정해져 있을 때
  - 1부터 100까지 더하기
- 배열의 모든 요소를 훑을 때
  - 배열 요소 3개 입력하기
  - 배열 요소들의 평균구하기

##### while문이 더 좋을 때

- 반복문을 종료하는 시점이 반복문 실행 도중에 결정될 때
  - 로그인 하기(계속 비밀번호 입력 시도 중 password가 일치)
  
### break문과 continue문

#### break문

break문은 레이블 문(식별자가 붙은 문), 반복문(for, for…in, for…of, while, do…while) 또는 switch 문의 코드 블록을 탈출한다.

```javascript
// outer라는 식별자가 붙은 레이블 for 문
outer: for (var i = 0; i < 3; i++) {
  for (var j = 0; j < 3; j++) {
    // i + j === 3이면 outer라는 식별자가 붙은 레이블 for 문을 탈출한다.
    if (i + j === 3) break outer;
    console.log(`inner [${i}, ${j}]`);
  }
}

console.log('Done!');
```

#### continue문

continue 문은 반복문의 코드 블록 실행을 현 지점에서 중단하고 반복문의 증감식으로 실행 흐름을 이동시킨다. break 문처럼 반복문을 탈출하지는 않는다.

```javascript
for (var k = 0; k < 5; k++) {
  if (k === 2 || k === 3) {
    continue;
  }
  console.log(k);
}

// [실행결과]
// 0
// 1
// 4
```

위 코드에서 k가 2 또는 3이면 continue문 수행하여 if문 아래의 console.log를 실행하지 않고 반복을 이어간다.
